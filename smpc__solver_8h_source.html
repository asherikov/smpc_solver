<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>A sparse MPC solver for walking motion generation.: include/smpc_solver.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">A sparse MPC solver for walking motion generation.
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">include/smpc_solver.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="smpc__solver_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00010"></a>00010 <span class="preprocessor">#ifndef SMPC_SOLVER_H</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span><span class="preprocessor">#define SMPC_SOLVER_H</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <span class="keyword">class </span><a class="code" href="classqp__as.html" title="Solve a quadratic program with a specific structure. qp_as = Quadratic Programming / Active Set...">qp_as</a>;
<a name="l00017"></a>00017 <span class="keyword">class </span><a class="code" href="classqp__ip.html" title="Solve a quadratic program with a specific structure. qp_ip = Quadratic Programming / Interior-point m...">qp_ip</a>;
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 
<a name="l00022"></a>00022 
<a name="l00024"></a><a class="code" href="group__gAPI.html#gab7984838b079762f5087b37a731e0b79">00024</a> <span class="preprocessor">#define SMPC_NUM_STATE_VAR 6</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span>
<a name="l00026"></a><a class="code" href="group__gAPI.html#ga7ac5a60c7c00a69bad741e5f1973ab45">00026</a> <span class="preprocessor">#define SMPC_NUM_CONTROL_VAR 2</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span>
<a name="l00028"></a><a class="code" href="group__gAPI.html#ga74b56d50f3995ffd5282a2f2289dfd1a">00028</a> <span class="preprocessor">#define SMPC_NUM_VAR 8</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span>
<a name="l00030"></a><a class="code" href="namespacesmpc.html">00030</a> <span class="keyword">namespace </span>smpc
<a name="l00031"></a>00031 {
<a name="l00032"></a>00032     <span class="comment">// -------------------------------</span>
<a name="l00033"></a>00033 
<a name="l00034"></a>00034     
<a name="l00041"></a>00041     <span class="keywordtype">void</span> <a class="code" href="namespacesmpc.html#aa028faa2f8c80b54ec4482561e347d7a" title="Enable floating point exceptions: die rather than process incorrect data. SIGFPE is sent to the progr...">enable_fexceptions</a>();
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 
<a name="l00044"></a>00044     <span class="comment">// -------------------------------</span>
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 
<a name="l00050"></a><a class="code" href="classsmpc_1_1state.html">00050</a>     <span class="keyword">class </span><a class="code" href="classsmpc_1_1state.html" title="An abstract class representing state.">state</a>
<a name="l00051"></a>00051     {
<a name="l00052"></a>00052         <span class="keyword">public</span>:
<a name="l00063"></a><a class="code" href="classsmpc_1_1state.html#a4e520ee4c5b0dfc163032daeb81ddabe">00063</a>             <span class="keywordtype">double</span> <a class="code" href="classsmpc_1_1state.html#a4e520ee4c5b0dfc163032daeb81ddabe">state_vector</a>[<a class="code" href="group__gAPI.html#gab7984838b079762f5087b37a731e0b79" title="Number of state variables.">SMPC_NUM_STATE_VAR</a>];
<a name="l00064"></a>00064 
<a name="l00065"></a>00065 
<a name="l00069"></a>00069             <a class="code" href="classsmpc_1_1state.html#a6ca407f88091a4d90159ee2efa4d3ce6" title="Default constructor (everything set to 0).">state</a>();
<a name="l00070"></a>00070 
<a name="l00071"></a>00071 
<a name="l00072"></a>00072             <span class="comment">// -------------------------------</span>
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 
<a name="l00077"></a><a class="code" href="classsmpc_1_1state.html#a57485b20aba99d636761a15abf4ca1a3">00077</a>             <span class="keywordtype">double</span> &amp;<a class="code" href="classsmpc_1_1state.html#a57485b20aba99d636761a15abf4ca1a3" title="X/Y coordinate.">x</a>  () {<span class="keywordflow">return</span> <a class="code" href="classsmpc_1_1state.html#a4e520ee4c5b0dfc163032daeb81ddabe">state_vector</a>[0];};
<a name="l00078"></a><a class="code" href="classsmpc_1_1state.html#afcf198f48d756fbf8646cfa67bacde07">00078</a>             <span class="keywordtype">double</span> &amp;<a class="code" href="classsmpc_1_1state.html#afcf198f48d756fbf8646cfa67bacde07" title="X/Y coordinate.">y</a>  () {<span class="keywordflow">return</span> <a class="code" href="classsmpc_1_1state.html#a4e520ee4c5b0dfc163032daeb81ddabe">state_vector</a>[3];};
<a name="l00079"></a><a class="code" href="classsmpc_1_1state.html#a2712c60bd7b66dd466f475ce28df3ce6">00079</a>             <span class="keyword">const</span> <span class="keywordtype">double</span> &amp;<a class="code" href="classsmpc_1_1state.html#a2712c60bd7b66dd466f475ce28df3ce6" title="X/Y coordinate.">x</a>  ()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classsmpc_1_1state.html#a4e520ee4c5b0dfc163032daeb81ddabe">state_vector</a>[0];};
<a name="l00080"></a><a class="code" href="classsmpc_1_1state.html#a328648362b4f3b0833002b71513e1345">00080</a>             <span class="keyword">const</span> <span class="keywordtype">double</span> &amp;<a class="code" href="classsmpc_1_1state.html#a328648362b4f3b0833002b71513e1345" title="X/Y coordinate.">y</a>  ()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classsmpc_1_1state.html#a4e520ee4c5b0dfc163032daeb81ddabe">state_vector</a>[3];};
<a name="l00082"></a>00082 
<a name="l00085"></a><a class="code" href="classsmpc_1_1state.html#a5e311e982ccadadde129c591cca627d8">00085</a>             <span class="keywordtype">double</span> &amp;<a class="code" href="classsmpc_1_1state.html#a5e311e982ccadadde129c591cca627d8" title="Velocity along X/Y axis.">vx</a> () {<span class="keywordflow">return</span> <a class="code" href="classsmpc_1_1state.html#a4e520ee4c5b0dfc163032daeb81ddabe">state_vector</a>[1];};
<a name="l00086"></a><a class="code" href="classsmpc_1_1state.html#aef3fc2b40c5a41cff975277782129c54">00086</a>             <span class="keywordtype">double</span> &amp;<a class="code" href="classsmpc_1_1state.html#aef3fc2b40c5a41cff975277782129c54" title="Velocity along X/Y axis.">vy</a> () {<span class="keywordflow">return</span> <a class="code" href="classsmpc_1_1state.html#a4e520ee4c5b0dfc163032daeb81ddabe">state_vector</a>[4];};
<a name="l00087"></a><a class="code" href="classsmpc_1_1state.html#ad0f051c6f5e5b57dd643bd003b8e9dad">00087</a>             <span class="keyword">const</span> <span class="keywordtype">double</span> &amp;<a class="code" href="classsmpc_1_1state.html#ad0f051c6f5e5b57dd643bd003b8e9dad" title="Velocity along X/Y axis.">vx</a> ()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classsmpc_1_1state.html#a4e520ee4c5b0dfc163032daeb81ddabe">state_vector</a>[1];};
<a name="l00088"></a><a class="code" href="classsmpc_1_1state.html#a710bf6528f2bae0be6af1b6b371ca449">00088</a>             <span class="keyword">const</span> <span class="keywordtype">double</span> &amp;<a class="code" href="classsmpc_1_1state.html#a710bf6528f2bae0be6af1b6b371ca449" title="Velocity along X/Y axis.">vy</a> ()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classsmpc_1_1state.html#a4e520ee4c5b0dfc163032daeb81ddabe">state_vector</a>[4];};
<a name="l00090"></a>00090 
<a name="l00093"></a><a class="code" href="classsmpc_1_1state.html#a92335fb3311513b7727a1bbae99efd45">00093</a>             <span class="keywordtype">double</span> &amp;<a class="code" href="classsmpc_1_1state.html#a92335fb3311513b7727a1bbae99efd45" title="Acceleration along X/Y axis.">ax</a> () {<span class="keywordflow">return</span> <a class="code" href="classsmpc_1_1state.html#a4e520ee4c5b0dfc163032daeb81ddabe">state_vector</a>[2];};
<a name="l00094"></a><a class="code" href="classsmpc_1_1state.html#add5d648d17158d31ffc802c26389cb0e">00094</a>             <span class="keywordtype">double</span> &amp;<a class="code" href="classsmpc_1_1state.html#add5d648d17158d31ffc802c26389cb0e" title="Acceleration along X/Y axis.">ay</a> () {<span class="keywordflow">return</span> <a class="code" href="classsmpc_1_1state.html#a4e520ee4c5b0dfc163032daeb81ddabe">state_vector</a>[5];};
<a name="l00095"></a><a class="code" href="classsmpc_1_1state.html#ab62d96da60b7d1ed4dce9e1b689e9dcb">00095</a>             <span class="keyword">const</span> <span class="keywordtype">double</span> &amp;<a class="code" href="classsmpc_1_1state.html#ab62d96da60b7d1ed4dce9e1b689e9dcb" title="Acceleration along X/Y axis.">ax</a> ()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classsmpc_1_1state.html#a4e520ee4c5b0dfc163032daeb81ddabe">state_vector</a>[2];};
<a name="l00096"></a><a class="code" href="classsmpc_1_1state.html#af1d92e025787d4e0881759c61853577c">00096</a>             <span class="keyword">const</span> <span class="keywordtype">double</span> &amp;<a class="code" href="classsmpc_1_1state.html#af1d92e025787d4e0881759c61853577c" title="Acceleration along X/Y axis.">ay</a> ()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classsmpc_1_1state.html#a4e520ee4c5b0dfc163032daeb81ddabe">state_vector</a>[5];};
<a name="l00098"></a>00098 
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 
<a name="l00101"></a>00101             <span class="comment">// -------------------------------</span>
<a name="l00102"></a>00102             
<a name="l00103"></a>00103            
<a name="l00111"></a>00111             <span class="keywordtype">void</span> <span class="keyword">set</span> (<span class="keywordtype">double</span> x_, <span class="keywordtype">double</span> y_);
<a name="l00112"></a>00112 
<a name="l00113"></a>00113 
<a name="l00124"></a>00124             <span class="keywordtype">void</span> <span class="keyword">set</span> (<span class="keywordtype">double</span> x_, <span class="keywordtype">double</span> vx_, <span class="keywordtype">double</span> ax_,
<a name="l00125"></a>00125                      <span class="keywordtype">double</span> y_, <span class="keywordtype">double</span> vy_, <span class="keywordtype">double</span> ay_);
<a name="l00126"></a>00126     };
<a name="l00127"></a>00127 
<a name="l00128"></a>00128 
<a name="l00140"></a><a class="code" href="classsmpc_1_1state__com.html">00140</a>     <span class="keyword">class </span><a class="code" href="classsmpc_1_1state__com.html" title="A container for a state in the original form:">state_com</a> : <span class="keyword">public</span> <a class="code" href="classsmpc_1_1state.html" title="An abstract class representing state.">state</a>
<a name="l00141"></a>00141     {
<a name="l00142"></a>00142         <span class="keyword">public</span>:
<a name="l00143"></a><a class="code" href="classsmpc_1_1state__com.html#ad041eda9c861f6378c862789e38fa408">00143</a>             <a class="code" href="classsmpc_1_1state__com.html#ad041eda9c861f6378c862789e38fa408">state_com</a> () : <a class="code" href="classsmpc_1_1state.html" title="An abstract class representing state.">state</a> () {};
<a name="l00144"></a>00144     };
<a name="l00145"></a>00145 
<a name="l00146"></a>00146     
<a name="l00159"></a><a class="code" href="classsmpc_1_1state__zmp.html">00159</a>     <span class="keyword">class </span><a class="code" href="classsmpc_1_1state__zmp.html" title="A container for a state in tilde form (after variable substitution):">state_zmp</a> : <span class="keyword">public</span> <a class="code" href="classsmpc_1_1state.html" title="An abstract class representing state.">state</a>
<a name="l00160"></a>00160     {
<a name="l00161"></a>00161         <span class="keyword">public</span>:
<a name="l00162"></a><a class="code" href="classsmpc_1_1state__zmp.html#ae13fa6c429233720a84025d59d38a811">00162</a>             <a class="code" href="classsmpc_1_1state__zmp.html#ae13fa6c429233720a84025d59d38a811">state_zmp</a> () : <a class="code" href="classsmpc_1_1state.html" title="An abstract class representing state.">state</a> () {};
<a name="l00163"></a>00163     };
<a name="l00164"></a>00164 
<a name="l00165"></a>00165 
<a name="l00169"></a><a class="code" href="classsmpc_1_1control.html">00169</a>     <span class="keyword">class </span><a class="code" href="classsmpc_1_1control.html" title="A container for a control vector.">control</a>
<a name="l00170"></a>00170     {
<a name="l00171"></a>00171         <span class="keyword">public</span>:
<a name="l00178"></a><a class="code" href="classsmpc_1_1control.html#a02ee6d6f510ea2248b4a6e762dfe538a">00178</a>             <span class="keywordtype">double</span> <a class="code" href="classsmpc_1_1control.html#a02ee6d6f510ea2248b4a6e762dfe538a">control_vector</a>[<a class="code" href="group__gAPI.html#ga7ac5a60c7c00a69bad741e5f1973ab45" title="Number of control variables.">SMPC_NUM_CONTROL_VAR</a>];
<a name="l00179"></a>00179 
<a name="l00180"></a>00180 
<a name="l00181"></a>00181             <a class="code" href="classsmpc_1_1control.html#af170b7be71770a83e9d49efb10b3cfe3">control</a>();
<a name="l00182"></a>00182 
<a name="l00183"></a>00183             <span class="comment">// -------------------------------</span>
<a name="l00184"></a>00184 
<a name="l00185"></a>00185 
<a name="l00189"></a><a class="code" href="classsmpc_1_1control.html#a701dbae63454074379439ac51a3c9c27">00189</a>             <span class="keywordtype">double</span> &amp;<a class="code" href="classsmpc_1_1control.html#a701dbae63454074379439ac51a3c9c27" title="Jerk along Y axis.">jx</a> () {<span class="keywordflow">return</span> <a class="code" href="classsmpc_1_1control.html#a02ee6d6f510ea2248b4a6e762dfe538a">control_vector</a>[0];};
<a name="l00193"></a><a class="code" href="classsmpc_1_1control.html#ace54643e094c0e7185ae001f57273a17">00193</a>             <span class="keywordtype">double</span> &amp;<a class="code" href="classsmpc_1_1control.html#ace54643e094c0e7185ae001f57273a17" title="Jerk along Y axis.">jy</a> () {<span class="keywordflow">return</span> <a class="code" href="classsmpc_1_1control.html#a02ee6d6f510ea2248b4a6e762dfe538a">control_vector</a>[1];};
<a name="l00194"></a>00194     };
<a name="l00195"></a>00195 
<a name="l00196"></a>00196 
<a name="l00197"></a>00197 
<a name="l00201"></a><a class="code" href="classsmpc_1_1solver.html">00201</a>     <span class="keyword">class </span><a class="code" href="classsmpc_1_1solver.html" title="Abstract class providing common interface functions.">solver</a>
<a name="l00202"></a>00202     {
<a name="l00203"></a>00203         <span class="keyword">public</span>:
<a name="l00207"></a>00207             <span class="keyword">virtual</span> <a class="code" href="classsmpc_1_1solver.html#ae39f2ee498e04cb9064caa4ab9d96906" title="Virtual destructor.">~solver</a>() = 0;
<a name="l00208"></a>00208 
<a name="l00220"></a>00220             <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver.html#a2f4ca5cbdb0449bcce3b6a276255d9f0" title="Initializes quadratic problem.">set_parameters</a> (
<a name="l00221"></a>00221                     <span class="keyword">const</span> <span class="keywordtype">double</span>* T,
<a name="l00222"></a>00222                     <span class="keyword">const</span> <span class="keywordtype">double</span>* h,
<a name="l00223"></a>00223                     <span class="keyword">const</span> <span class="keywordtype">double</span> h_initial,
<a name="l00224"></a>00224                     <span class="keyword">const</span> <span class="keywordtype">double</span>* angle,
<a name="l00225"></a>00225                     <span class="keyword">const</span> <span class="keywordtype">double</span>* zref_x,
<a name="l00226"></a>00226                     <span class="keyword">const</span> <span class="keywordtype">double</span>* zref_y,
<a name="l00227"></a>00227                     <span class="keyword">const</span> <span class="keywordtype">double</span>* lb,
<a name="l00228"></a>00228                     <span class="keyword">const</span> <span class="keywordtype">double</span>* ub) = 0;
<a name="l00229"></a>00229 
<a name="l00230"></a>00230 
<a name="l00232"></a>00232 
<a name="l00239"></a>00239             <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver.html#affd17096acd6af997b048232122a27e1" title="Generates an initial feasible point.">form_init_fp</a> (
<a name="l00240"></a>00240                     <span class="keyword">const</span> <span class="keywordtype">double</span> *x_coord,
<a name="l00241"></a>00241                     <span class="keyword">const</span> <span class="keywordtype">double</span> *y_coord,
<a name="l00242"></a>00242                     <span class="keyword">const</span> <a class="code" href="classsmpc_1_1state__com.html" title="A container for a state in the original form:">state_com</a> &amp;init_state,
<a name="l00243"></a>00243                     <span class="keywordtype">double</span>* X) = 0;
<a name="l00244"></a>00244 
<a name="l00245"></a>00245             <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver.html#affd17096acd6af997b048232122a27e1" title="Generates an initial feasible point.">form_init_fp</a> (
<a name="l00246"></a>00246                     <span class="keyword">const</span> <span class="keywordtype">double</span> *x_coord,
<a name="l00247"></a>00247                     <span class="keyword">const</span> <span class="keywordtype">double</span> *y_coord,
<a name="l00248"></a>00248                     <span class="keyword">const</span> <a class="code" href="classsmpc_1_1state__zmp.html" title="A container for a state in tilde form (after variable substitution):">state_zmp</a> &amp;init_state,
<a name="l00249"></a>00249                     <span class="keywordtype">double</span>* X) = 0;
<a name="l00251"></a>00251 
<a name="l00252"></a>00252 
<a name="l00256"></a>00256             <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver.html#a73c64d42a5432ead97d350f35d6189aa" title="Solve QP problem.">solve</a> () = 0;
<a name="l00257"></a>00257 
<a name="l00258"></a>00258 
<a name="l00259"></a>00259             <span class="comment">// -------------------------------</span>
<a name="l00260"></a>00260 
<a name="l00261"></a>00261 
<a name="l00263"></a>00263 
<a name="l00268"></a>00268             <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver.html#a30b5b3b33ff3a2701874c593f4a90c92" title="Returns the next state.">get_next_state</a> (<a class="code" href="classsmpc_1_1state__com.html" title="A container for a state in the original form:">state_com</a> &amp;s) <span class="keyword">const</span> = 0;
<a name="l00269"></a>00269             <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver.html#a30b5b3b33ff3a2701874c593f4a90c92" title="Returns the next state.">get_next_state</a> (<a class="code" href="classsmpc_1_1state__zmp.html" title="A container for a state in tilde form (after variable substitution):">state_zmp</a> &amp;s) <span class="keyword">const</span> = 0;
<a name="l00271"></a>00271             
<a name="l00273"></a>00273 
<a name="l00279"></a>00279             <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver.html#a4114036c4260e952c2b00df46ca217a6" title="Returns a state with given index.">get_state</a> (<a class="code" href="classsmpc_1_1state__com.html" title="A container for a state in the original form:">state_com</a> &amp;s, <span class="keyword">const</span> <span class="keywordtype">int</span> ind) <span class="keyword">const</span> = 0;
<a name="l00280"></a>00280             <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver.html#a4114036c4260e952c2b00df46ca217a6" title="Returns a state with given index.">get_state</a> (<a class="code" href="classsmpc_1_1state__zmp.html" title="A container for a state in tilde form (after variable substitution):">state_zmp</a> &amp;s, <span class="keyword">const</span> <span class="keywordtype">int</span> ind) <span class="keyword">const</span> = 0;
<a name="l00282"></a>00282 
<a name="l00283"></a>00283 
<a name="l00284"></a>00284             <span class="comment">// -------------------------------</span>
<a name="l00285"></a>00285 
<a name="l00286"></a>00286 
<a name="l00293"></a>00293             <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver.html#acec3601c0842df26edfb33df934f8e3c" title="Returns the controls that must be applied to reach the next state.">get_first_controls</a> (<a class="code" href="classsmpc_1_1control.html" title="A container for a control vector.">control</a> &amp;c) <span class="keyword">const</span> = 0;
<a name="l00294"></a>00294 
<a name="l00295"></a>00295 
<a name="l00304"></a>00304             <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver.html#a210852038bdf081e0e52cb90730a6e6d" title="The same as get_first_controls, but takes an additional parameter - the index of the control inputs...">get_controls</a> (<a class="code" href="classsmpc_1_1control.html" title="A container for a control vector.">control</a> &amp;c, <span class="keyword">const</span> <span class="keywordtype">int</span> ind) <span class="keyword">const</span> = 0;
<a name="l00305"></a>00305     };
<a name="l00306"></a>00306 
<a name="l00307"></a>00307 
<a name="l00308"></a>00308 
<a name="l00309"></a>00309 
<a name="l00313"></a><a class="code" href="classsmpc_1_1solver__as.html">00313</a>     <span class="keyword">class </span><a class="code" href="classsmpc_1_1solver__as.html" title="API of the sparse MPC solver.">solver_as</a> : <span class="keyword">public</span> <a class="code" href="classsmpc_1_1solver.html" title="Abstract class providing common interface functions.">solver</a>
<a name="l00314"></a>00314     {
<a name="l00315"></a>00315         <span class="keyword">public</span>:
<a name="l00316"></a>00316 
<a name="l00335"></a>00335             <a class="code" href="classsmpc_1_1solver__as.html#aaa55c543737c7721ff5ce47c538a7f90" title="Constructor: initialize an active set method solver.">solver_as</a> (
<a name="l00336"></a>00336                     <span class="keyword">const</span> <span class="keywordtype">int</span> N, 
<a name="l00337"></a>00337                     <span class="keyword">const</span> <span class="keywordtype">double</span> gain_position = 2000.0, 
<a name="l00338"></a>00338                     <span class="keyword">const</span> <span class="keywordtype">double</span> gain_velocity = 150.0, 
<a name="l00339"></a>00339                     <span class="keyword">const</span> <span class="keywordtype">double</span> gain_acceleration = 0.02,
<a name="l00340"></a>00340                     <span class="keyword">const</span> <span class="keywordtype">double</span> gain_jerk = 1.0,
<a name="l00341"></a>00341                     <span class="keyword">const</span> <span class="keywordtype">double</span> tol = 1e-7,
<a name="l00342"></a>00342                     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> max_added_constraints_num = 0,
<a name="l00343"></a>00343                     <span class="keyword">const</span> <span class="keywordtype">bool</span> constraint_removal_on = <span class="keyword">true</span>,
<a name="l00344"></a>00344                     <span class="keyword">const</span> <span class="keywordtype">bool</span> obj_computation_on = <span class="keyword">false</span>);
<a name="l00345"></a>00345 
<a name="l00346"></a>00346 
<a name="l00347"></a>00347             <a class="code" href="classsmpc_1_1solver__as.html#a3646568ae6bdf95ec577cc881a678067">~solver_as</a>();
<a name="l00348"></a>00348 
<a name="l00349"></a>00349 
<a name="l00350"></a>00350             <span class="comment">// -------------------------------</span>
<a name="l00351"></a>00351 
<a name="l00352"></a>00352 
<a name="l00356"></a>00356             <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver__as.html#a6f9f3c849c58e4bdc42c7b278777e82e" title="These functions are documented in the definition of the base abstract class smpc::solver.">set_parameters</a> (
<a name="l00357"></a>00357                     <span class="keyword">const</span> <span class="keywordtype">double</span>*, <span class="keyword">const</span> <span class="keywordtype">double</span>*, <span class="keyword">const</span> <span class="keywordtype">double</span>, <span class="keyword">const</span> <span class="keywordtype">double</span>*, 
<a name="l00358"></a>00358                     <span class="keyword">const</span> <span class="keywordtype">double</span>*, <span class="keyword">const</span> <span class="keywordtype">double</span>*, <span class="keyword">const</span> <span class="keywordtype">double</span>*, <span class="keyword">const</span> <span class="keywordtype">double</span>*);
<a name="l00359"></a>00359             <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver__as.html#ab2991704987de8a09b22bb5c0a1050fd" title="These functions are documented in the definition of the base abstract class smpc::solver.">form_init_fp</a> (<span class="keyword">const</span> <span class="keywordtype">double</span> *, <span class="keyword">const</span> <span class="keywordtype">double</span> *, <span class="keyword">const</span> <a class="code" href="classsmpc_1_1state__com.html" title="A container for a state in the original form:">state_com</a> &amp;, <span class="keywordtype">double</span>*);
<a name="l00360"></a>00360             <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver__as.html#ab2991704987de8a09b22bb5c0a1050fd" title="These functions are documented in the definition of the base abstract class smpc::solver.">form_init_fp</a> (<span class="keyword">const</span> <span class="keywordtype">double</span> *, <span class="keyword">const</span> <span class="keywordtype">double</span> *, <span class="keyword">const</span> <a class="code" href="classsmpc_1_1state__zmp.html" title="A container for a state in tilde form (after variable substitution):">state_zmp</a> &amp;, <span class="keywordtype">double</span>*);
<a name="l00361"></a>00361             <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver__as.html#ab5149f395981f5e017b88b29aa374815" title="These functions are documented in the definition of the base abstract class smpc::solver.">solve</a> ();
<a name="l00362"></a>00362             <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver__as.html#ab851b222e2452be4c75956eb483d1f0d" title="These functions are documented in the definition of the base abstract class smpc::solver.">get_next_state</a> (<a class="code" href="classsmpc_1_1state__com.html" title="A container for a state in the original form:">state_com</a> &amp;) <span class="keyword">const</span>;
<a name="l00363"></a>00363             <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver__as.html#ab851b222e2452be4c75956eb483d1f0d" title="These functions are documented in the definition of the base abstract class smpc::solver.">get_next_state</a> (<a class="code" href="classsmpc_1_1state__zmp.html" title="A container for a state in tilde form (after variable substitution):">state_zmp</a> &amp;) <span class="keyword">const</span>;
<a name="l00364"></a>00364             <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver__as.html#a76d8bff4d02cdeee5c2b1db09501dbe8" title="These functions are documented in the definition of the base abstract class smpc::solver.">get_state</a> (<a class="code" href="classsmpc_1_1state__com.html" title="A container for a state in the original form:">state_com</a> &amp;, <span class="keyword">const</span> <span class="keywordtype">int</span>) <span class="keyword">const</span>;
<a name="l00365"></a>00365             <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver__as.html#a76d8bff4d02cdeee5c2b1db09501dbe8" title="These functions are documented in the definition of the base abstract class smpc::solver.">get_state</a> (<a class="code" href="classsmpc_1_1state__zmp.html" title="A container for a state in tilde form (after variable substitution):">state_zmp</a> &amp;, <span class="keyword">const</span> <span class="keywordtype">int</span>) <span class="keyword">const</span>;
<a name="l00366"></a>00366             <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver__as.html#ac9cffb76079804f02ed23f99d55e783c" title="These functions are documented in the definition of the base abstract class smpc::solver.">get_first_controls</a> (<a class="code" href="classsmpc_1_1control.html" title="A container for a control vector.">control</a> &amp;) <span class="keyword">const</span>;
<a name="l00367"></a>00367             <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver__as.html#acd92a475cbcfb6bdc162c9c8836e41d7" title="These functions are documented in the definition of the base abstract class smpc::solver.">get_controls</a> (<a class="code" href="classsmpc_1_1control.html" title="A container for a control vector.">control</a> &amp;, <span class="keyword">const</span> <span class="keywordtype">int</span>) <span class="keyword">const</span>;
<a name="l00369"></a>00369 
<a name="l00370"></a>00370 
<a name="l00371"></a>00371             <span class="comment">// -------------------------------</span>
<a name="l00372"></a>00372 
<a name="l00373"></a>00373        
<a name="l00380"></a><a class="code" href="classsmpc_1_1solver__as.html#a484380d4bd558f44b6bae1693ec65adc">00380</a>             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classsmpc_1_1solver__as.html#a484380d4bd558f44b6bae1693ec65adc" title="Number of added constraints (the constraints, that were removed are also counted).">added_constraints_num</a>;
<a name="l00381"></a>00381 
<a name="l00387"></a><a class="code" href="classsmpc_1_1solver__as.html#ab9ae9d1bef1052c49d0de0c99f7db746">00387</a>             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classsmpc_1_1solver__as.html#ab9ae9d1bef1052c49d0de0c99f7db746" title="Number of removed constraints.">removed_constraints_num</a>;
<a name="l00388"></a>00388 
<a name="l00394"></a><a class="code" href="classsmpc_1_1solver__as.html#acdc43c2dcb3c4a3865897ff4275d446a">00394</a>             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classsmpc_1_1solver__as.html#acdc43c2dcb3c4a3865897ff4275d446a" title="The final size of the active set.">active_set_size</a>;
<a name="l00395"></a>00395 
<a name="l00396"></a>00396 
<a name="l00404"></a><a class="code" href="classsmpc_1_1solver__as.html#a6eaf70d195d6b1c6d4547dd794164378">00404</a>             std::vector&lt;double&gt; <a class="code" href="classsmpc_1_1solver__as.html#a6eaf70d195d6b1c6d4547dd794164378" title="Contains values of objective function after each iteration, the initial value is also included...">objective_log</a>;
<a name="l00405"></a>00405 
<a name="l00406"></a>00406 
<a name="l00407"></a>00407             <span class="comment">// -------------------------------</span>
<a name="l00408"></a>00408 
<a name="l00409"></a>00409 
<a name="l00413"></a><a class="code" href="classsmpc_1_1solver__as.html#af5f9cbc43ce69165ab6305f6ad3c4230">00413</a>             <a class="code" href="classqp__as.html" title="Solve a quadratic program with a specific structure. qp_as = Quadratic Programming / Active Set...">qp_as</a> *<a class="code" href="classsmpc_1_1solver__as.html#af5f9cbc43ce69165ab6305f6ad3c4230" title="Internal representation.">qp_sol</a>;
<a name="l00414"></a>00414     };
<a name="l00415"></a>00415 
<a name="l00416"></a>00416 
<a name="l00420"></a><a class="code" href="namespacesmpc.html#adcd9cb46c4b80f7e4a8fbe43dc82a91d">00420</a>     <span class="keyword">enum</span> <a class="code" href="namespacesmpc.html#adcd9cb46c4b80f7e4a8fbe43dc82a91d" title="Type of the backtracking search.">backtrackingSearchType</a>
<a name="l00421"></a>00421     {
<a name="l00423"></a><a class="code" href="namespacesmpc.html#adcd9cb46c4b80f7e4a8fbe43dc82a91da22c3e3a6c5c3346670c430f318c6b968">00423</a>         <a class="code" href="namespacesmpc.html#adcd9cb46c4b80f7e4a8fbe43dc82a91da22c3e3a6c5c3346670c430f318c6b968" title="Disable backtracking search.">SMPC_IP_BS_NONE</a> = 0,
<a name="l00425"></a><a class="code" href="namespacesmpc.html#adcd9cb46c4b80f7e4a8fbe43dc82a91da52c87ec066756f7a2e380aefe925369f">00425</a>         <a class="code" href="namespacesmpc.html#adcd9cb46c4b80f7e4a8fbe43dc82a91da52c87ec066756f7a2e380aefe925369f" title="Use objective function, which includes logarithmic barrier term.">SMPC_IP_BS_LOGBAR</a> = 1,
<a name="l00427"></a><a class="code" href="namespacesmpc.html#adcd9cb46c4b80f7e4a8fbe43dc82a91da6fb30dd18162e6cfd1967b4997701acf">00427</a>         <a class="code" href="namespacesmpc.html#adcd9cb46c4b80f7e4a8fbe43dc82a91da6fb30dd18162e6cfd1967b4997701acf" title="Use original objective function (no logarithmic barrier term).">SMPC_IP_BS_ORIGINAL</a> = 2
<a name="l00428"></a>00428     };
<a name="l00429"></a>00429 
<a name="l00430"></a>00430 
<a name="l00434"></a><a class="code" href="classsmpc_1_1solver__ip.html">00434</a>     <span class="keyword">class </span><a class="code" href="classsmpc_1_1solver__ip.html" title="API of the sparse MPC solver.">solver_ip</a> : <span class="keyword">public</span> <a class="code" href="classsmpc_1_1solver.html" title="Abstract class providing common interface functions.">solver</a>
<a name="l00435"></a>00435     {
<a name="l00436"></a>00436         <span class="keyword">public</span>:
<a name="l00437"></a>00437 
<a name="l00458"></a>00458             <a class="code" href="classsmpc_1_1solver__ip.html#aaf014a457e2ea025afd56071007000e5" title="Constructor: initialize an interior-point method solver.">solver_ip</a> (
<a name="l00459"></a>00459                     <span class="keyword">const</span> <span class="keywordtype">int</span> N, 
<a name="l00460"></a>00460                     <span class="keyword">const</span> <span class="keywordtype">double</span> gain_position = 2000.0, 
<a name="l00461"></a>00461                     <span class="keyword">const</span> <span class="keywordtype">double</span> gain_velocity = 150.0, 
<a name="l00462"></a>00462                     <span class="keyword">const</span> <span class="keywordtype">double</span> gain_acceleration = 0.01,
<a name="l00463"></a>00463                     <span class="keyword">const</span> <span class="keywordtype">double</span> gain_jerk = 1.0,
<a name="l00464"></a>00464                     <span class="keyword">const</span> <span class="keywordtype">double</span> tol = 1e-3,
<a name="l00465"></a>00465                     <span class="keyword">const</span> <span class="keywordtype">double</span> tol_out = 1e-2,
<a name="l00466"></a>00466                     <span class="keyword">const</span> <span class="keywordtype">double</span> t = 100,
<a name="l00467"></a>00467                     <span class="keyword">const</span> <span class="keywordtype">double</span> mu = 15,
<a name="l00468"></a>00468                     <span class="keyword">const</span> <span class="keywordtype">double</span> bs_alpha = 0.01,
<a name="l00469"></a>00469                     <span class="keyword">const</span> <span class="keywordtype">double</span> bs_beta = 0.5,
<a name="l00470"></a>00470                     <span class="keyword">const</span> <span class="keywordtype">int</span> <span class="keywordtype">unsigned</span> max_iter = 0,
<a name="l00471"></a>00471                     <span class="keyword">const</span> <a class="code" href="namespacesmpc.html#adcd9cb46c4b80f7e4a8fbe43dc82a91d" title="Type of the backtracking search.">backtrackingSearchType</a> bs_type = <a class="code" href="namespacesmpc.html#adcd9cb46c4b80f7e4a8fbe43dc82a91da52c87ec066756f7a2e380aefe925369f" title="Use objective function, which includes logarithmic barrier term.">SMPC_IP_BS_LOGBAR</a>,
<a name="l00472"></a>00472                     <span class="keyword">const</span> <span class="keywordtype">bool</span> obj_computation_on = <span class="keyword">false</span>);
<a name="l00473"></a>00473 
<a name="l00474"></a>00474             <a class="code" href="classsmpc_1_1solver__ip.html#a15f907b0f7ad46a6632452114e30617c">~solver_ip</a>();
<a name="l00475"></a>00475 
<a name="l00476"></a>00476 
<a name="l00477"></a>00477             <span class="comment">// -------------------------------</span>
<a name="l00478"></a>00478 
<a name="l00479"></a>00479 
<a name="l00483"></a>00483             <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver__ip.html#a2d0a5f2d41699f25d2373bce702948f5" title="These functions are documented in the definition of the base abstract class smpc::solver.">set_parameters</a> (
<a name="l00484"></a>00484                     <span class="keyword">const</span> <span class="keywordtype">double</span>*, <span class="keyword">const</span> <span class="keywordtype">double</span>*, <span class="keyword">const</span> <span class="keywordtype">double</span>, <span class="keyword">const</span> <span class="keywordtype">double</span>*, 
<a name="l00485"></a>00485                     <span class="keyword">const</span> <span class="keywordtype">double</span>*, <span class="keyword">const</span> <span class="keywordtype">double</span>*, <span class="keyword">const</span> <span class="keywordtype">double</span>*, <span class="keyword">const</span> <span class="keywordtype">double</span>*);
<a name="l00486"></a>00486             <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver__ip.html#ad10ff1d053403f949c029106d895d686" title="These functions are documented in the definition of the base abstract class smpc::solver.">form_init_fp</a> (<span class="keyword">const</span> <span class="keywordtype">double</span> *, <span class="keyword">const</span> <span class="keywordtype">double</span> *, <span class="keyword">const</span> <a class="code" href="classsmpc_1_1state__com.html" title="A container for a state in the original form:">state_com</a> &amp;, <span class="keywordtype">double</span>*);
<a name="l00487"></a>00487             <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver__ip.html#ad10ff1d053403f949c029106d895d686" title="These functions are documented in the definition of the base abstract class smpc::solver.">form_init_fp</a> (<span class="keyword">const</span> <span class="keywordtype">double</span> *, <span class="keyword">const</span> <span class="keywordtype">double</span> *, <span class="keyword">const</span> <a class="code" href="classsmpc_1_1state__zmp.html" title="A container for a state in tilde form (after variable substitution):">state_zmp</a> &amp;, <span class="keywordtype">double</span>*);
<a name="l00488"></a>00488             <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver__ip.html#acf15c4a1006f6411059fe294318b381d" title="These functions are documented in the definition of the base abstract class smpc::solver.">solve</a> ();
<a name="l00489"></a>00489             <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver__ip.html#a0d415aa1821afb61eb6ad8b47e1fd48d" title="These functions are documented in the definition of the base abstract class smpc::solver.">get_next_state</a> (<a class="code" href="classsmpc_1_1state__com.html" title="A container for a state in the original form:">state_com</a> &amp;) <span class="keyword">const</span>;
<a name="l00490"></a>00490             <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver__ip.html#a0d415aa1821afb61eb6ad8b47e1fd48d" title="These functions are documented in the definition of the base abstract class smpc::solver.">get_next_state</a> (<a class="code" href="classsmpc_1_1state__zmp.html" title="A container for a state in tilde form (after variable substitution):">state_zmp</a> &amp;) <span class="keyword">const</span>;
<a name="l00491"></a>00491             <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver__ip.html#ab5877a07c01aaa385d2174aa28d0f138" title="These functions are documented in the definition of the base abstract class smpc::solver.">get_state</a> (<a class="code" href="classsmpc_1_1state__com.html" title="A container for a state in the original form:">state_com</a> &amp;, <span class="keyword">const</span> <span class="keywordtype">int</span>) <span class="keyword">const</span>;
<a name="l00492"></a>00492             <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver__ip.html#ab5877a07c01aaa385d2174aa28d0f138" title="These functions are documented in the definition of the base abstract class smpc::solver.">get_state</a> (<a class="code" href="classsmpc_1_1state__zmp.html" title="A container for a state in tilde form (after variable substitution):">state_zmp</a> &amp;, <span class="keyword">const</span> <span class="keywordtype">int</span>) <span class="keyword">const</span>;
<a name="l00493"></a>00493             <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver__ip.html#ac0a7c237827d2809d78f9ca7378c4c49" title="These functions are documented in the definition of the base abstract class smpc::solver.">get_first_controls</a> (<a class="code" href="classsmpc_1_1control.html" title="A container for a control vector.">control</a> &amp;) <span class="keyword">const</span>;
<a name="l00494"></a>00494             <span class="keywordtype">void</span> <a class="code" href="classsmpc_1_1solver__ip.html#aea3ed32e4877331e4a77100d9d333377" title="These functions are documented in the definition of the base abstract class smpc::solver.">get_controls</a> (<a class="code" href="classsmpc_1_1control.html" title="A container for a control vector.">control</a> &amp;, <span class="keyword">const</span> <span class="keywordtype">int</span>) <span class="keyword">const</span>;
<a name="l00496"></a>00496 
<a name="l00497"></a>00497 
<a name="l00498"></a>00498             <span class="comment">// -------------------------------</span>
<a name="l00499"></a>00499 
<a name="l00500"></a>00500 
<a name="l00506"></a><a class="code" href="classsmpc_1_1solver__ip.html#a44f3aa02a6242e052eb28b6dca32db26">00506</a>             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classsmpc_1_1solver__ip.html#a44f3aa02a6242e052eb28b6dca32db26" title="The number of iterations of the external loop.">ext_loop_iterations</a>;
<a name="l00507"></a>00507 
<a name="l00513"></a><a class="code" href="classsmpc_1_1solver__ip.html#ac012def6a0dd5062edc1826aadc4ca91">00513</a>             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classsmpc_1_1solver__ip.html#ac012def6a0dd5062edc1826aadc4ca91" title="The total number of iterations of the internal loop.">int_loop_iterations</a>;
<a name="l00514"></a>00514 
<a name="l00520"></a><a class="code" href="classsmpc_1_1solver__ip.html#aeee08c204b9982d0c0df18041d6b00df">00520</a>             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classsmpc_1_1solver__ip.html#aeee08c204b9982d0c0df18041d6b00df" title="The total number of iterations of backtracking search.">bt_search_iterations</a>;
<a name="l00521"></a>00521 
<a name="l00522"></a>00522 
<a name="l00530"></a><a class="code" href="classsmpc_1_1solver__ip.html#a50ade23bbd45da017ac38378ea58891d">00530</a>             std::vector&lt;double&gt; <a class="code" href="classsmpc_1_1solver__ip.html#a50ade23bbd45da017ac38378ea58891d" title="Contains values of objective function after each iteration, the initial value is also included...">objective_log</a>;
<a name="l00531"></a>00531 
<a name="l00532"></a>00532 
<a name="l00533"></a>00533             <span class="comment">// -------------------------------</span>
<a name="l00534"></a>00534 
<a name="l00535"></a>00535 
<a name="l00539"></a><a class="code" href="classsmpc_1_1solver__ip.html#a6f29b7cc4da2bc78d214d3b17b2bf36d">00539</a>             <a class="code" href="classqp__ip.html" title="Solve a quadratic program with a specific structure. qp_ip = Quadratic Programming / Interior-point m...">qp_ip</a> *<a class="code" href="classsmpc_1_1solver__ip.html#a6f29b7cc4da2bc78d214d3b17b2bf36d" title="Internal representation.">qp_sol</a>;
<a name="l00540"></a>00540     };
<a name="l00541"></a>00541 }
<a name="l00543"></a>00543 
<a name="l00544"></a>00544 <span class="preprocessor">#endif </span><span class="comment">/*SMPC_SOLVER_H*/</span>
</pre></div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
