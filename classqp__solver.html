<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>A sparse MPC solver for walking motion generation.: qp_solver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">A sparse MPC solver for walking motion generation.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<h1>qp_solver Class Reference<div class="ingroups"><a class="el" href="group__gINTERNALS.html">Internal classes, functions and definitions of the solver library</a></div></h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="qp_solver" --><!-- doxytag: inherits="problem_parameters" -->
<p>Solve a quadratic program with a specific structure.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="qp__solver_8h_source.html">qp_solver.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for qp_solver:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classqp__solver.png" usemap="#qp_solver_map" alt=""/>
  <map id="qp_solver_map" name="qp_solver_map">
<area href="classproblem__parameters.html" alt="problem_parameters" shape="rect" coords="68,0,195,24"/>
<area href="classqp__as.html" alt="qp_as" shape="rect" coords="0,112,127,136"/>
<area href="classqp__ip.html" alt="qp_ip" shape="rect" coords="137,112,264,136"/>
</map>
 </div></div>

<p><a href="classqp__solver-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqp__solver.html#a8cd340d86a723d230ff54c5753f80feb">qp_solver</a> (const int N_, const double, const double, const double, const double, const double)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor: initialization of the constant parameters.  <a href="#a8cd340d86a723d230ff54c5753f80feb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqp__solver.html#a78e6d2b14a8c76f863be2552aa443559">~qp_solver</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqp__solver.html#ad1a27784aa9e75e401c343a04f09e2d8">form_init_fp</a> (const double *, const double *, const double *, double *)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates an initial feasible point. First we perform a change of variable to <a class="el" href="pProblemDef.html#pX_tilde">X_tilde</a> generate a feasible point, and then we go back to <a class="el" href="pProblemDef.html#pX_bar">X_bar</a>.  <a href="#ad1a27784aa9e75e401c343a04f09e2d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqp__solver.html#a50c064ba4846350d9f1dcfd6abbfd946">set_parameters</a> (const double *, const double *, const double, const double *, const double *, const double *, const double *, const double *)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqp__solver.html#a860bee98c0cb2e2ecaad8c5e617971d7">solve</a> ()=0</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqp__solver.html#a913e4e5a4936b84794bd3a37e7abcaa6">X</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqp__solver.html#a760bde009995222d59a3880ef18b0545">tol</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">tolerance  <a href="#a760bde009995222d59a3880ef18b0545"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqp__solver.html#a36916afec3fbe6e3cf60fc36b31a79a9">dX</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqp__solver.html#a5a5567d24c04b40ed5630ad0991c881f">alpha</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqp__solver.html#aae3d4ff18b2fd433f76909c396010bf2">h_initial</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Height of the CoM at initial state divided by the gravity, this initial state precede the first state in the preview window.  <a href="#aae3d4ff18b2fd433f76909c396010bf2"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqp__solver.html#aec61b38adbbf2c791f633610e2133590">gain_alpha</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gains used in <a class="el" href="pProblemDef.html#pPDObj">objective function</a>.  <a href="#aec61b38adbbf2c791f633610e2133590"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqp__solver.html#a7946eedcefac79c2acccba87ee927f79">gain_beta</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqp__solver.html#a8b5d4e9ad392d2f5e7b7d38db9000370">gain_gamma</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Solve a quadratic program with a specific structure. </p>

<p>Definition at line <a class="el" href="qp__solver_8h_source.html#l00032">32</a> of file <a class="el" href="qp__solver_8h_source.html">qp_solver.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8cd340d86a723d230ff54c5753f80feb"></a><!-- doxytag: member="qp_solver::qp_solver" ref="a8cd340d86a723d230ff54c5753f80feb" args="(const int N_, const double, const double, const double, const double, const double)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qp_solver::qp_solver </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>N_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>Alpha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>Beta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>Gamma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>regularization</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>tol_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor: initialization of the constant parameters. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">N_</td><td>Number of sampling times in a preview window </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Alpha</td><td>Velocity gain </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Beta</td><td>Position gain </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Gamma</td><td>Jerk gain </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">regularization</td><td>regularization </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tol_</td><td>tolerance </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="qp__solver_8cpp_source.html#l00029">29</a> of file <a class="el" href="qp__solver_8cpp_source.html">qp_solver.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a78e6d2b14a8c76f863be2552aa443559"></a><!-- doxytag: member="qp_solver::~qp_solver" ref="a78e6d2b14a8c76f863be2552aa443559" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual qp_solver::~qp_solver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qp__solver_8h_source.html#l00044">44</a> of file <a class="el" href="qp__solver_8h_source.html">qp_solver.h</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ad1a27784aa9e75e401c343a04f09e2d8"></a><!-- doxytag: member="qp_solver::form_init_fp" ref="ad1a27784aa9e75e401c343a04f09e2d8" args="(const double *, const double *, const double *, double *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qp_solver::form_init_fp </td>
          <td>(</td>
          <td class="paramtype">const double *&#160;</td>
          <td class="paramname"><em>x_coord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&#160;</td>
          <td class="paramname"><em>y_coord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&#160;</td>
          <td class="paramname"><em>init_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>X_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Generates an initial feasible point. First we perform a change of variable to <a class="el" href="pProblemDef.html#pX_tilde">X_tilde</a> generate a feasible point, and then we go back to <a class="el" href="pProblemDef.html#pX_bar">X_bar</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x_coord</td><td>x coordinates of points satisfying constraints </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y_coord</td><td>y coordinates of points satisfying constraints </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">init_state</td><td>current state </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">X_</td><td>initial guess / solution of optimization problem </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="qp__solver_8cpp_source.html#l00058">58</a> of file <a class="el" href="qp__solver_8cpp_source.html">qp_solver.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a50c064ba4846350d9f1dcfd6abbfd946"></a><!-- doxytag: member="qp_solver::set_parameters" ref="a50c064ba4846350d9f1dcfd6abbfd946" args="(const double *, const double *, const double, const double *, const double *, const double *, const double *, const double *)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void qp_solver::set_parameters </td>
          <td>(</td>
          <td class="paramtype">const double *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implemented in <a class="el" href="classqp__as.html#a4bd0c46eda2dc4ba4d5a31ca628f0ada">qp_as</a>, and <a class="el" href="classqp__ip.html#ac7f3c37bef1e4c0a372e5016a9f2c275">qp_ip</a>.</p>

</div>
</div>
<a class="anchor" id="a860bee98c0cb2e2ecaad8c5e617971d7"></a><!-- doxytag: member="qp_solver::solve" ref="a860bee98c0cb2e2ecaad8c5e617971d7" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int qp_solver::solve </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implemented in <a class="el" href="classqp__as.html#af0386f027f77a8ee54f13df9ee2c9f84">qp_as</a>, and <a class="el" href="classqp__ip.html#ad547a6372dc4e53dd0727a04649d8791">qp_ip</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a5a5567d24c04b40ed5630ad0991c881f"></a><!-- doxytag: member="qp_solver::alpha" ref="a5a5567d24c04b40ed5630ad0991c881f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classqp__solver.html#a5a5567d24c04b40ed5630ad0991c881f">qp_solver::alpha</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A number from 0 to 1, which controls depth of descent <a class="el" href="classqp__solver.html#a913e4e5a4936b84794bd3a37e7abcaa6">X</a> = <a class="el" href="classqp__solver.html#a913e4e5a4936b84794bd3a37e7abcaa6">X</a> + <a class="el" href="classqp__solver.html#a5a5567d24c04b40ed5630ad0991c881f">alpha</a>*<a class="el" href="classqp__solver.html#a36916afec3fbe6e3cf60fc36b31a79a9">dX</a>. </p>

<p>Definition at line <a class="el" href="qp__solver_8h_source.html#l00090">90</a> of file <a class="el" href="qp__solver_8h_source.html">qp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a36916afec3fbe6e3cf60fc36b31a79a9"></a><!-- doxytag: member="qp_solver::dX" ref="a36916afec3fbe6e3cf60fc36b31a79a9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double* <a class="el" href="classqp__solver.html#a36916afec3fbe6e3cf60fc36b31a79a9">qp_solver::dX</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Feasible descent direction (to be used for updating <a class="el" href="classqp__solver.html#a913e4e5a4936b84794bd3a37e7abcaa6">X</a>). </p>

<p>Definition at line <a class="el" href="qp__solver_8h_source.html#l00087">87</a> of file <a class="el" href="qp__solver_8h_source.html">qp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="aec61b38adbbf2c791f633610e2133590"></a><!-- doxytag: member="qp_solver::gain_alpha" ref="aec61b38adbbf2c791f633610e2133590" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classqp__solver.html#aec61b38adbbf2c791f633610e2133590">qp_solver::gain_alpha</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gains used in <a class="el" href="pProblemDef.html#pPDObj">objective function</a>. </p>

<p>Definition at line <a class="el" href="qp__solver_8h_source.html#l00076">76</a> of file <a class="el" href="qp__solver_8h_source.html">qp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7946eedcefac79c2acccba87ee927f79"></a><!-- doxytag: member="qp_solver::gain_beta" ref="a7946eedcefac79c2acccba87ee927f79" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classqp__solver.html#a7946eedcefac79c2acccba87ee927f79">qp_solver::gain_beta</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qp__solver_8h_source.html#l00077">77</a> of file <a class="el" href="qp__solver_8h_source.html">qp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8b5d4e9ad392d2f5e7b7d38db9000370"></a><!-- doxytag: member="qp_solver::gain_gamma" ref="a8b5d4e9ad392d2f5e7b7d38db9000370" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classqp__solver.html#a8b5d4e9ad392d2f5e7b7d38db9000370">qp_solver::gain_gamma</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="qp__solver_8h_source.html#l00078">78</a> of file <a class="el" href="qp__solver_8h_source.html">qp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="aae3d4ff18b2fd433f76909c396010bf2"></a><!-- doxytag: member="qp_solver::h_initial" ref="aae3d4ff18b2fd433f76909c396010bf2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classqp__solver.html#aae3d4ff18b2fd433f76909c396010bf2">qp_solver::h_initial</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Height of the CoM at initial state divided by the gravity, this initial state precede the first state in the preview window. </p>

<p>Definition at line <a class="el" href="qp__solver_8h_source.html#l00094">94</a> of file <a class="el" href="qp__solver_8h_source.html">qp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a760bde009995222d59a3880ef18b0545"></a><!-- doxytag: member="qp_solver::tol" ref="a760bde009995222d59a3880ef18b0545" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classqp__solver.html#a760bde009995222d59a3880ef18b0545">qp_solver::tol</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>tolerance </p>

<p>Definition at line <a class="el" href="qp__solver_8h_source.html#l00082">82</a> of file <a class="el" href="qp__solver_8h_source.html">qp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a913e4e5a4936b84794bd3a37e7abcaa6"></a><!-- doxytag: member="qp_solver::X" ref="a913e4e5a4936b84794bd3a37e7abcaa6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double* <a class="el" href="classqp__solver.html#a913e4e5a4936b84794bd3a37e7abcaa6">qp_solver::X</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Variables for the QP (contain the states + control variables). Initial feasible point with respect to the equality and inequality constraints. </p>

<p>Definition at line <a class="el" href="qp__solver_8h_source.html#l00071">71</a> of file <a class="el" href="qp__solver_8h_source.html">qp_solver.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>solver/<a class="el" href="qp__solver_8h_source.html">qp_solver.h</a></li>
<li>solver/<a class="el" href="qp__solver_8cpp_source.html">qp_solver.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
